(function(e){function t(t){for(var n,s,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var l=r[a];0!==i[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},i={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4b66":function(e,t,r){"use strict";r("f25c")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"arApp"}},[r("router-view")],1)},o=[],s=r("2877"),a={},l=Object(s["a"])(a,i,o,!1,null,null,null),c=l.exports,d=r("8c4f"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("ArButton",{attrs:{engine:"Arjs",tracking:"Location",model:e.model,coords:e.coords}})],1)},p=[],h=r("5a89"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"ar_container"}},[r("button",{staticClass:"btn sizeEnter",attrs:{id:"enterAR"},on:{click:e.init}},[e._v("START AR")]),r("div",{attrs:{id:"webxr"}},[r("div",{attrs:{id:"overlay"}},[r("div",{attrs:{id:"searchingDiv"}},[r("PlaneSVG",{attrs:{id:"searchingPlaneSVG"}}),r("p",{attrs:{id:"searchingText"}},[e._v("SEARCHING FOR A PLANE")])],1),r("div",{attrs:{id:"modelControllers"}},[r("div",{attrs:{id:"modelButtons"}},[r("button",{staticClass:"btn",attrs:{id:"modelScale"},on:{click:e.scaleInput}},[e._v("Sca")]),r("button",{staticClass:"btn",attrs:{id:"modelRotation"},on:{click:e.rotationInput}},[e._v("Rot")]),r("button",{staticClass:"btn reticle",attrs:{id:"toggleReticle"},on:{click:e.webxr_toggleReticle}},[e._v("Ret")])]),r("input",{attrs:{id:"inputController",type:"range",step:"0.1"},on:{change:e.inputValue}})])])]),e.arjs_bool?r("div",{attrs:{id:"arjs_aframe"}},[r("a-scene",{attrs:{id:"arjs_scene","vr-mode-ui":"enabled: false;",renderer:"logarithmicDepthBuffer: true;",arjs:"trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"}},[e.arjs_imageTrackingBool?r("div",{attrs:{id:"arjs_imageTracking"}},[r("a-nft",{attrs:{type:"nft",url:"https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/trex-image/trex",smooth:"true",smoothCount:"10",smoothTolerance:".01",smoothThreshold:"5"}},[r("a-box",{attrs:{color:"tomato",depth:"2",height:"4",width:"0.5",position:"0 0 0"}})],1),r("a-entity",{attrs:{camera:""}})],1):e._e(),e.arjs_LocationTrackingBool?r("div",{attrs:{id:"arjs_LocationTracking"}},[r("a-text",{attrs:{id:"locationExample",value:"This content will always face you.","look-at":"[gps-camera]",scale:"1 1 1"}}),r("a-camera",{attrs:{"gps-camera":"","rotation-reader":""}})],1):e._e(),e.arjs_MarkerTrackingBool?r("div",{attrs:{id:"arjs_MarkerTracking"}},[r("a-marker",{attrs:{preset:"hiro"}},[r("a-entity",{attrs:{position:"0 -1 0",scale:"0.05 0.05 0.05","gltf-model":"https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/scene.gltf"}})],1),r("a-entity",{attrs:{camera:""}})],1):e._e()])],1):e._e(),e.mindar_bool?r("div",{attrs:{id:"mindAR"}},[r("a-scene",{attrs:{id:"mindar_scene",mindar:"imageTargetSrc: MindAR_assets/card.mind; showStats: false; autoStart: false","color-space":"sRGB",renderer:"colorManagement: true, physicallyCorrectLights","vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: false"}},[r("a-assets",[r("img",{attrs:{id:"card",src:"MindAR_assets/card.png"}}),r("a-asset-item",{attrs:{id:"avatarModel",src:"MindAR_assets/softmind/scene.gltf"}})],1),r("a-camera",{attrs:{position:"0 0 0","look-controls":"enabled: false"}}),r("a-entity",{attrs:{"mindar-image-target":"targetIndex: 0"}},[r("a-plane",{attrs:{src:"#card",position:"0 0 0",height:"0.552",width:"1",rotation:"0 0 0"}}),r("a-gltf-model",{attrs:{rotation:"0 0 0 ",position:"0 0 0.1",scale:"0.005 0.005 0.005",src:"#avatarModel",animation:"property: position; to: 0 0.1 0.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"}})],1)],1)],1):e._e()])},f=[],b=(r("ac1f"),r("5319"),r("d4ec")),g=r("bee2"),x=function(){function e(){Object(b["a"])(this,e)}return Object(g["a"])(e,null,[{key:"createButton",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=document.createElement("button");function o(){var t=null;function o(n){console.log(n),e.domElement.style.display="block",r.style.display="block",n.addEventListener("end",s),e.xr.setReferenceSpaceType("local"),e.xr.setSession(n),i.textContent="STOP AR",t=n}function s(){e.domElement.style.display="none",r.style.display="none",t.removeEventListener("end",s),i.textContent="START AR",t=null}i.style.display="",i.style.cursor="pointer",i.style.width="100px",i.textContent="START AR",i.onmouseenter=function(){i.style.opacity="1.0"},i.onmouseleave=function(){i.style.opacity="0.5"},i.onclick=function(){null===t?navigator.xr.requestSession("immersive-ar",n).then(o):t.end()}}function s(){i.style.display="",i.style.cursor="auto",i.style.left="calc(50% - 75px)",i.style.width="150px",i.onmouseenter=null,i.onmouseleave=null,i.onclick=null}function a(){s(),i.textContent="AR NOT SUPPORTED"}function l(e){e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return i.id="ARButton",i.style.display="none",t&&l(i),navigator.xr.isSessionSupported("immersive-ar").then((function(e){e?o():a()})).catch(a),i;var c=document.createElement("a");return!1===window.isSecureContext?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}]),e}(),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{id:"ede6rkqokp41",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 90.832832 26.554701","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision"}},[r("g",{attrs:{id:"ede6rkqokp42",transform:"matrix(1 0 0 1 -6.30024000000000 -31.21980000000000)"}},[r("g",{attrs:{id:"ede6rkqokp43"}},[r("path",{attrs:{id:"ede6rkqokp44",d:"M28.865108,32.002262L96.350663,32.269533L74.835468,56.858329L7.082642,56.991964Z",fill:"none",stroke:"rgb(97,100,117)","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp45",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 31.33730000000000 46.36800000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp46",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 39.15500000000000 37.74860000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp47",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 43.16400000000000 44.56390000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp48",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 52.38480000000000 53.11660000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp49",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 39.68950000000000 51.11200000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp410",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 23.92060000000000 51.78020000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp411",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 49.71210000000000 38.28310000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp412",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 53.45390000000000 43.62850000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp413",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 60.53650000000000 48.70660000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp414",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 80.84900000000000 37.61490000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp415",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 69.75730000000000 38.01580000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp416",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 61.07110000000000 37.61490000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp417",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 29.80050000000000 39.48581200000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp418",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 70.42550000000000 52.18110000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp419",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 76.97360000000000 44.83120000000000)",opacity:"0",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),r("ellipse",{attrs:{id:"ede6rkqokp420",rx:"1.536800",ry:"0.601356",transform:"matrix(1 0 0 1 68.15370000000000 44.96480000000000)",fill:"rgb(97,100,117)",stroke:"rgb(97,100,117)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])])},k=[],w={name:"PlaneAnim",mounted:function(){}},y=w,v=(r("4b66"),Object(s["a"])(y,_,k,!1,null,"25a49a0a",null)),j=v.exports,S=r("aae2");n["a"].config.ignoredElements=["a-scene","a-entity","a-camera","a-nft","a-marker","a-text","a-box","a-assets","a-asset-item","a-plane","a-gltf-model"];var R={name:"ArButton",components:{PlaneSVG:j},props:["engine","tracking","model","coords"],data:function(){return{ar_camera:null,ar_scene:null,ar_renderer:null,webxr_controller:null,webxr_container:null,webxr_reticle:null,webxr_reticleBool:!0,webxr_hitTestSource:null,webxr_hitTestSourceRequested:!1,webxr_session:null,webxr_rootOverlay:null,arjs_bool:!1,arjs_imageTrackingBool:!1,arjs_LocationTrackingBool:!1,arjs_MarkerTrackingBool:!1,mindar_bool:!1,mindar_started:!1,input_scale:{current:1,max:3,min:.1},input_rotation:{current:0,max:6.28319,min:-6.28319},input_current_mod:"scale"}},methods:{init:function(){if("Arjs"==this.engine){this.arjs_bool=!0;var e=this;setTimeout((function(){var t=document.querySelector("#locationExample");t.setAttribute("gps-entity-place","latitude:"+e.coords.lat+", longitude:"+e.coords.lng+";")}),500)}else if("ArNFT"==this.engine)this.initArNFT(),document.querySelector("#enterAR").style.display="none";else if("MindAR"==this.engine){document.querySelector("#mindAR").style.display="block";var t=document.querySelector("#mindar_scene"),r=t.systems["mindar-system"];this.mindar_started?r.stop():(r.start(),document.querySelector("#enterAR").style.display="none",this.mindar_started=!0)}},initWebXR:function(){this.ar_scene=new h["Scene"],this.ar_camera=new h["PerspectiveCamera"](70,window.innerWidth/window.innerHeight,.01,20);var e=new h["HemisphereLight"](16777215,12303359,1);e.position.set(.5,1,.25),this.ar_scene.add(e),this.ar_renderer=new h["WebGLRenderer"]({antialias:!0,alpha:!0}),this.ar_renderer.setPixelRatio(window.devicePixelRatio),this.ar_renderer.setSize(window.innerWidth,window.innerHeight),this.ar_renderer.xr.enabled=!0,this.ar_renderer.domElement.style.display="none",this.webxr_container.appendChild(this.ar_renderer.domElement);var t=x.createButton(this.ar_renderer,!0,this.webxr_rootOverlay,{optionalFeatures:["dom-overlay"],domOverlay:{root:this.webxr_rootOverlay},requiredFeatures:["hit-test"]});this.webxr_container.appendChild(t),this.webxr_controller=this.ar_renderer.xr.getController(0),this.webxr_controller.addEventListener("select",this.webxr_onSelect),this.ar_scene.add(this.webxr_controller),this.webxr_reticle=new h["Mesh"](new h["RingBufferGeometry"](.15,.2,32).rotateX(-Math.PI/2),new h["MeshBasicMaterial"]),this.webxr_reticle.matrixAutoUpdate=!1,this.webxr_reticle.visible=!1,this.ar_scene.add(this.webxr_reticle)},webxr_onSelect:function(){this.webxr_reticle.visible&&(null!=this.model?(this.model.position.setFromMatrixPosition(this.webxr_reticle.matrix),this.ar_scene.add(this.model)):console.error("UNDEFINED MODEL"))},webxr_Animate:function(){this.ar_renderer.setAnimationLoop(this.webxr_Render)},webxr_Render:function(e,t){if(t){var r=this.ar_renderer.xr.getReferenceSpace();if(this.webxr_session=this.ar_renderer.xr.getSession(),!1===this.webxr_hitTestSourceRequested){var n=this;this.webxr_session.requestReferenceSpace("viewer").then((function(e){n.webxr_session.requestHitTestSource({space:e}).then((function(e){n.webxr_hitTestSource=e}))})),this.webxr_session.addEventListener("end",(function(){this.webxr_hitTestSourceRequested=!1,this.webxr_hitTestSource=null})),this.webxr_hitTestSourceRequested=!0}if(this.webxr_hitTestSource){var i=t.getHitTestResults(this.webxr_hitTestSource);if(i.length){document.querySelector("#searchingDiv").style.display="none",document.querySelector("#modelControllers").style.display="block";var o=i[0];this.webxr_reticle.visible=this.webxr_reticleBool,this.webxr_reticle.matrix.fromArray(o.getPose(r).transform.matrix)}else document.querySelector("#searchingDiv").style.display="block",document.querySelector("#modelControllers").style.display="none",this.webxr_reticle.visible=!1}}this.ar_renderer.render(this.ar_scene,this.ar_camera)},webxr_toggleReticle:function(){this.webxr_reticleBool=!this.webxr_reticleBool},initArNFT:function(){S["ARnft"].init(640,480,"ArNFT_assets/DataNFT/pinball","ArNFT_assets/config.json",!1).then((function(e){var t=new h["MeshLambertMaterial"]({color:16711680}),r=new h["CubeGeometry"](1,1,1),n=new h["Mesh"](r,t);n.position.z=90,n.scale.set(180,180,180),e.add(n)})).catch((function(e){console.log("asadas",e)}))},onWindowResize:function(){"WebXR"==this.engine&&(this.ar_camera.aspect=window.innerWidth/window.innerHeight,this.ar_camera.updateProjectionMatrix(),this.ar_renderer.setSize(window.innerWidth,window.innerHeight))},scaleInput:function(){var e=document.querySelector("#inputController");e.setAttribute("max",this.input_scale.max),e.setAttribute("min",this.input_scale.min),e.setAttribute("value",this.input_scale.current),this.input_current_mod="scale"},rotationInput:function(){var e=document.querySelector("#inputController");e.setAttribute("max",this.input_rotation.max),e.setAttribute("min",this.input_rotation.min),e.setAttribute("value",this.input_rotation.current),this.input_current_mod="rotation"},inputValue:function(e){this["input_"+this.input_current_mod].current=e.target.value,"scale"==this.input_current_mod?this.model.scale.setScalar(this["input_"+this.input_current_mod].current):this.model.rotation.y=this["input_"+this.input_current_mod].current}},created:function(){console.log("Engine: ",this.engine,"Tracking:",this.tracking),"MindAR"==this.engine&&(this.mindar_bool=!0),"Arjs"==this.engine&&("Image"==this.tracking?this.arjs_imageTrackingBool=!0:"Marker"==this.tracking?this.arjs_MarkerTrackingBool=!0:"Location"==this.tracking&&(console.log("aqui tracking"),this.arjs_LocationTrackingBool=!0))},mounted:function(){this.webxr_container=document.querySelector("#ar_container"),this.webxr_rootOverlay=document.querySelector("#overlay"),window.addEventListener("resize",this.onWindowResize,!1),"WebXR"==this.engine&&(document.querySelector("#enterAR").style.display="none",this.initWebXR(),this.webxr_Animate()),this.arjs_LocationTrackingBool&&this.arjs_bool&&console.log("aqui")},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResize,!1),null!=this.webxr_controller&&this.webxr_controller.removeEventListener("select",this.webxr_onSelect),null!=this.webxr_session&&this.webxr_session.removeEventListener("end",(function(){this.webxr_hitTestSourceRequested=!1,this.webxr_hitTestSource=null}))}},T=R,A=(r("c1c3"),Object(s["a"])(T,m,f,!1,null,"57745582",null)),q=A.exports,M={name:"Home",components:{ArButton:q},data:function(){return{model:null,coords:{lat:-5.826232135866558,lng:-35.201280229372166}}},methods:{setModel:function(){var e=new h["BoxGeometry"](.2,.2,.2),t=new h["MeshBasicMaterial"]({color:65280}),r=new h["Mesh"](e,t);this.model=r}},mounted:function(){this.setModel()}},E=M,B=Object(s["a"])(E,u,p,!1,null,null,null),L=B.exports;n["a"].use(d["a"]);var O=[{path:"/",name:"Home",component:L}],P=new d["a"]({routes:O}),C=P;n["a"].config.productionTip=!1,new n["a"]({router:C,render:function(e){return e(c)}}).$mount("#app")},"7db3":function(e,t,r){},c1c3:function(e,t,r){"use strict";r("7db3")},f25c:function(e,t,r){}});
//# sourceMappingURL=app.bba67ce7.js.map